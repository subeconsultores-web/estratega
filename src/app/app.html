<ng-container *ngIf="isLoggedIn$ | async; else authLayout">
  <!-- Main Shell Layout (Authenticated) -->
  <div class="flex h-screen bg-gray-50 overflow-hidden font-sans text-gray-900">
    <!-- Sidebar -->
    <app-sidebar></app-sidebar>

    <!-- Main Column -->
    <div class="flex-1 flex flex-col h-screen overflow-hidden">
      <!-- Navbar -->
      <app-navbar></app-navbar>

      <!-- Content Area -->
      <main
        class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-4 md:p-6 pb-24 md:pb-6 custom-scrollbar relative">
        <router-outlet></router-outlet>
      </main>
    </div>
  </div>
</ng-container>

<ng-template #authLayout>
  <!-- Auth Layout (Unauthenticated) -->
  <main class="min-h-screen bg-gray-50 font-sans text-gray-900">
    <router-outlet></router-outlet>
  </main>
</ng-template>